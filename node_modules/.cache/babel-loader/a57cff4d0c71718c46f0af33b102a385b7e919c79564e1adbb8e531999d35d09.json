{"ast":null,"code":"import{useState}from'react';import axios from'axios';import'../styles/TaskList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TaskList(_ref){let{tasks,refreshTasks}=_ref;const[expandedTask,setExpandedTask]=useState(null);const handleMarkDone=async id=>{try{const response=await axios.post('http://localhost/task-manager-project/backend/tasks/update_task.php',{id:id,status:'Done',progress:100},{headers:{'Content-Type':'application/json'}});if(response.data.status==='success'){refreshTasks();}else{console.error('Error updating task:',response.data.message);}}catch(error){console.error('Error updating task:',error);}};const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this task?')){try{await axios.post('http://localhost/task-manager-project/backend/tasks/delete_task.php',{id:id});refreshTasks();}catch(error){console.error('Error deleting task:',error);}}};const handleUpdateProgress=async(id,progress)=>{try{const response=await axios.post('http://localhost/task-manager-project/backend/tasks/update_task.php',{id:id,progress:progress},{headers:{'Content-Type':'application/json'}});if(response.data.status==='success'){refreshTasks();}}catch(error){console.error('Error updating progress:',error);}};const getPriorityColor=priority=>{switch(priority){case'Low':return'#4CAF50';case'Medium':return'#FFC107';case'High':return'#FF9800';case'Urgent':return'#F44336';default:return'#666';}};const formatDate=dateString=>{if(!dateString)return'No due date';const date=new Date(dateString);return date.toLocaleString();};return/*#__PURE__*/_jsxs(\"div\",{className:\"task-list-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Task List\"}),tasks.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-tasks\",children:\"No tasks yet. Add your first task above!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"tasks-grid\",children:tasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:`task-card ${task.status==='Done'?'completed':''}`,onClick:()=>setExpandedTask(expandedTask===task.id?null:task.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"task-category\",children:task.category}),/*#__PURE__*/_jsx(\"span\",{className:\"task-priority\",style:{backgroundColor:getPriorityColor(task.priority)},children:task.priority})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"task-title\",children:task.title}),task.description&&/*#__PURE__*/_jsx(\"p\",{className:\"task-description\",children:expandedTask===task.id?task.description:`${task.description.substring(0,100)}...`}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-progress\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${task.progress}%`}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"progress-text\",children:[task.progress,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-due-date\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"calendar-icon\",children:\"\\uD83D\\uDCC5\"}),formatDate(task.due_date)]})]}),task.tags&&task.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"task-tags\",children:JSON.parse(task.tags).map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"tag\",children:tag},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-actions\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"100\",value:task.progress,onChange:e=>handleUpdateProgress(task.id,e.target.value),onClick:e=>e.stopPropagation()}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleMarkDone(task.id);},className:\"action-button done-button\",disabled:task.status==='Done',children:task.status==='Done'?'Completed':'Mark as Done'}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDelete(task.id);},className:\"action-button delete-button\",children:\"Delete\"})]})]},task.id))})]});}export default TaskList;","map":{"version":3,"names":["useState","axios","jsx","_jsx","jsxs","_jsxs","TaskList","_ref","tasks","refreshTasks","expandedTask","setExpandedTask","handleMarkDone","id","response","post","status","progress","headers","data","console","error","message","handleDelete","window","confirm","handleUpdateProgress","getPriorityColor","priority","formatDate","dateString","date","Date","toLocaleString","className","children","length","map","task","onClick","category","style","backgroundColor","title","description","substring","width","due_date","tags","JSON","parse","tag","index","type","min","max","value","onChange","e","target","stopPropagation","disabled"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/task-manager-project/src/components/TaskList.jsx"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport '../styles/TaskList.css';\n\nfunction TaskList({ tasks, refreshTasks }) {\n  const [expandedTask, setExpandedTask] = useState(null);\n\n  const handleMarkDone = async (id) => {\n    try {\n      const response = await axios.post(\n        'http://localhost/task-manager-project/backend/tasks/update_task.php',\n        {\n          id: id,\n          status: 'Done',\n          progress: 100\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      if (response.data.status === 'success') {\n        refreshTasks();\n      } else {\n        console.error('Error updating task:', response.data.message);\n      }\n    } catch (error) {\n      console.error('Error updating task:', error);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('Are you sure you want to delete this task?')) {\n      try {\n        await axios.post('http://localhost/task-manager-project/backend/tasks/delete_task.php', {\n          id: id\n        });\n        refreshTasks();\n      } catch (error) {\n        console.error('Error deleting task:', error);\n      }\n    }\n  };\n\n  const handleUpdateProgress = async (id, progress) => {\n    try {\n      const response = await axios.post(\n        'http://localhost/task-manager-project/backend/tasks/update_task.php',\n        {\n          id: id,\n          progress: progress\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      if (response.data.status === 'success') {\n        refreshTasks();\n      }\n    } catch (error) {\n      console.error('Error updating progress:', error);\n    }\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'Low': return '#4CAF50';\n      case 'Medium': return '#FFC107';\n      case 'High': return '#FF9800';\n      case 'Urgent': return '#F44336';\n      default: return '#666';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'No due date';\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n\n  return (\n    <div className=\"task-list-container\">\n      <h2>Task List</h2>\n      {tasks.length === 0 ? (\n        <div className=\"no-tasks\">No tasks yet. Add your first task above!</div>\n      ) : (\n        <div className=\"tasks-grid\">\n          {tasks.map((task) => (\n            <div\n              key={task.id}\n              className={`task-card ${task.status === 'Done' ? 'completed' : ''}`}\n              onClick={() => setExpandedTask(expandedTask === task.id ? null : task.id)}\n            >\n              <div className=\"task-header\">\n                <span className=\"task-category\">{task.category}</span>\n                <span\n                  className=\"task-priority\"\n                  style={{ backgroundColor: getPriorityColor(task.priority) }}\n                >\n                  {task.priority}\n                </span>\n              </div>\n\n              <h3 className=\"task-title\">{task.title}</h3>\n\n              {task.description && (\n                <p className=\"task-description\">\n                  {expandedTask === task.id ? task.description : `${task.description.substring(0, 100)}...`}\n                </p>\n              )}\n\n              <div className=\"task-meta\">\n                <div className=\"task-progress\">\n                  <div className=\"progress-bar\">\n                    <div\n                      className=\"progress-fill\"\n                      style={{ width: `${task.progress}%` }}\n                    />\n                  </div>\n                  <span className=\"progress-text\">{task.progress}%</span>\n                </div>\n\n                <div className=\"task-due-date\">\n                  <i className=\"calendar-icon\">ðŸ“…</i>\n                  {formatDate(task.due_date)}\n                </div>\n              </div>\n\n              {task.tags && task.tags.length > 0 && (\n                <div className=\"task-tags\">\n                  {JSON.parse(task.tags).map((tag, index) => (\n                    <span key={index} className=\"tag\">{tag}</span>\n                  ))}\n                </div>\n              )}\n\n              <div className=\"task-actions\">\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  value={task.progress}\n                  onChange={(e) => handleUpdateProgress(task.id, e.target.value)}\n                  onClick={(e) => e.stopPropagation()}\n                />\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleMarkDone(task.id);\n                  }}\n                  className=\"action-button done-button\"\n                  disabled={task.status === 'Done'}\n                >\n                  {task.status === 'Done' ? 'Completed' : 'Mark as Done'}\n                </button>\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleDelete(task.id);\n                  }}\n                  className=\"action-button delete-button\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default TaskList;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhC,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAA0B,IAAzB,CAAEC,KAAK,CAAEC,YAAa,CAAC,CAAAF,IAAA,CACvC,KAAM,CAACG,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAAY,cAAc,CAAG,KAAO,CAAAC,EAAE,EAAK,CACnC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,IAAI,CAC/B,qEAAqE,CACrE,CACEF,EAAE,CAAEA,EAAE,CACNG,MAAM,CAAE,MAAM,CACdC,QAAQ,CAAE,GACZ,CAAC,CACD,CACEC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CAED,GAAIJ,QAAQ,CAACK,IAAI,CAACH,MAAM,GAAK,SAAS,CAAE,CACtCP,YAAY,CAAC,CAAC,CAChB,CAAC,IAAM,CACLW,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEP,QAAQ,CAACK,IAAI,CAACG,OAAO,CAAC,CAC9D,CACF,CAAE,MAAOD,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,KAAO,CAAAV,EAAE,EAAK,CACjC,GAAIW,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CAChE,GAAI,CACF,KAAM,CAAAxB,KAAK,CAACc,IAAI,CAAC,qEAAqE,CAAE,CACtFF,EAAE,CAAEA,EACN,CAAC,CAAC,CACFJ,YAAY,CAAC,CAAC,CAChB,CAAE,MAAOY,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CACF,CAAC,CAED,KAAM,CAAAK,oBAAoB,CAAG,KAAAA,CAAOb,EAAE,CAAEI,QAAQ,GAAK,CACnD,GAAI,CACF,KAAM,CAAAH,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,IAAI,CAC/B,qEAAqE,CACrE,CACEF,EAAE,CAAEA,EAAE,CACNI,QAAQ,CAAEA,QACZ,CAAC,CACD,CACEC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CAED,GAAIJ,QAAQ,CAACK,IAAI,CAACH,MAAM,GAAK,SAAS,CAAE,CACtCP,YAAY,CAAC,CAAC,CAChB,CACF,CAAE,MAAOY,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAAM,gBAAgB,CAAIC,QAAQ,EAAK,CACrC,OAAQA,QAAQ,EACd,IAAK,KAAK,CAAE,MAAO,SAAS,CAC5B,IAAK,QAAQ,CAAE,MAAO,SAAS,CAC/B,IAAK,MAAM,CAAE,MAAO,SAAS,CAC7B,IAAK,QAAQ,CAAE,MAAO,SAAS,CAC/B,QAAS,MAAO,MAAM,CACxB,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,UAAU,EAAK,CACjC,GAAI,CAACA,UAAU,CAAE,MAAO,aAAa,CACrC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,UAAU,CAAC,CACjC,MAAO,CAAAC,IAAI,CAACE,cAAc,CAAC,CAAC,CAC9B,CAAC,CAED,mBACE5B,KAAA,QAAK6B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClChC,IAAA,OAAAgC,QAAA,CAAI,WAAS,CAAI,CAAC,CACjB3B,KAAK,CAAC4B,MAAM,GAAK,CAAC,cACjBjC,IAAA,QAAK+B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,0CAAwC,CAAK,CAAC,cAExEhC,IAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxB3B,KAAK,CAAC6B,GAAG,CAAEC,IAAI,eACdjC,KAAA,QAEE6B,SAAS,CAAE,aAAaI,IAAI,CAACtB,MAAM,GAAK,MAAM,CAAG,WAAW,CAAG,EAAE,EAAG,CACpEuB,OAAO,CAAEA,CAAA,GAAM5B,eAAe,CAACD,YAAY,GAAK4B,IAAI,CAACzB,EAAE,CAAG,IAAI,CAAGyB,IAAI,CAACzB,EAAE,CAAE,CAAAsB,QAAA,eAE1E9B,KAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhC,IAAA,SAAM+B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEG,IAAI,CAACE,QAAQ,CAAO,CAAC,cACtDrC,IAAA,SACE+B,SAAS,CAAC,eAAe,CACzBO,KAAK,CAAE,CAAEC,eAAe,CAAEf,gBAAgB,CAACW,IAAI,CAACV,QAAQ,CAAE,CAAE,CAAAO,QAAA,CAE3DG,IAAI,CAACV,QAAQ,CACV,CAAC,EACJ,CAAC,cAENzB,IAAA,OAAI+B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEG,IAAI,CAACK,KAAK,CAAK,CAAC,CAE3CL,IAAI,CAACM,WAAW,eACfzC,IAAA,MAAG+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC5BzB,YAAY,GAAK4B,IAAI,CAACzB,EAAE,CAAGyB,IAAI,CAACM,WAAW,CAAG,GAAGN,IAAI,CAACM,WAAW,CAACC,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,KAAK,CACxF,CACJ,cAEDxC,KAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BhC,IAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BhC,IAAA,QACE+B,SAAS,CAAC,eAAe,CACzBO,KAAK,CAAE,CAAEK,KAAK,CAAE,GAAGR,IAAI,CAACrB,QAAQ,GAAI,CAAE,CACvC,CAAC,CACC,CAAC,cACNZ,KAAA,SAAM6B,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEG,IAAI,CAACrB,QAAQ,CAAC,GAAC,EAAM,CAAC,EACpD,CAAC,cAENZ,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BhC,IAAA,MAAG+B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAE,CAAG,CAAC,CAClCN,UAAU,CAACS,IAAI,CAACS,QAAQ,CAAC,EACvB,CAAC,EACH,CAAC,CAELT,IAAI,CAACU,IAAI,EAAIV,IAAI,CAACU,IAAI,CAACZ,MAAM,CAAG,CAAC,eAChCjC,IAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBc,IAAI,CAACC,KAAK,CAACZ,IAAI,CAACU,IAAI,CAAC,CAACX,GAAG,CAAC,CAACc,GAAG,CAAEC,KAAK,gBACpCjD,IAAA,SAAkB+B,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEgB,GAAG,EAA3BC,KAAkC,CAC9C,CAAC,CACC,CACN,cAED/C,KAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BhC,IAAA,UACEkD,IAAI,CAAC,OAAO,CACZC,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,KAAK,CACTC,KAAK,CAAElB,IAAI,CAACrB,QAAS,CACrBwC,QAAQ,CAAGC,CAAC,EAAKhC,oBAAoB,CAACY,IAAI,CAACzB,EAAE,CAAE6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/DjB,OAAO,CAAGmB,CAAC,EAAKA,CAAC,CAACE,eAAe,CAAC,CAAE,CACrC,CAAC,cACFzD,IAAA,WACEoC,OAAO,CAAGmB,CAAC,EAAK,CACdA,CAAC,CAACE,eAAe,CAAC,CAAC,CACnBhD,cAAc,CAAC0B,IAAI,CAACzB,EAAE,CAAC,CACzB,CAAE,CACFqB,SAAS,CAAC,2BAA2B,CACrC2B,QAAQ,CAAEvB,IAAI,CAACtB,MAAM,GAAK,MAAO,CAAAmB,QAAA,CAEhCG,IAAI,CAACtB,MAAM,GAAK,MAAM,CAAG,WAAW,CAAG,cAAc,CAChD,CAAC,cACTb,IAAA,WACEoC,OAAO,CAAGmB,CAAC,EAAK,CACdA,CAAC,CAACE,eAAe,CAAC,CAAC,CACnBrC,YAAY,CAACe,IAAI,CAACzB,EAAE,CAAC,CACvB,CAAE,CACFqB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACxC,QAED,CAAQ,CAAC,EACN,CAAC,GA3EDG,IAAI,CAACzB,EA4EP,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAP,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}